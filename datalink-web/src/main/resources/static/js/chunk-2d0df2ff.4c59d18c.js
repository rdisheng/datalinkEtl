(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df2ff"],{"899a":function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e._self._c;return r("a-row",{attrs:{gutter:24}},[r("a-form-model",{ref:"propForm",attrs:{layout:"vertical",model:e.properties,rules:e.rules}},[r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"资源",prop:"resourceId"}},[r("node-resource-select",{attrs:{"resource-type":e.param.resourceType},on:{change:function(r){return e.properties=Object.assign({},e.properties,r.properties)}},model:{value:e.properties.resourceId,callback:function(r){e.$set(e.properties,"resourceId",r)},expression:"properties.resourceId"}})],1)],1),"SOURCE"===e.param.driverMode?r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"传输方式",prop:"transferType"}},[r("a-select",{attrs:{placeholder:"请选择传输方式"},model:{value:e.properties.transferType,callback:function(r){e.$set(e.properties,"transferType",r)},expression:"properties.transferType"}},[r("a-select-option",{attrs:{value:"single"}},[e._v("每个点位逐条传输")]),r("a-select-option",{attrs:{value:"pack"}},[e._v("所有点位打包传输")])],1)],1)],1):e._e(),"TARGET"===e.param.driverMode?r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"数据地址",prop:"address"}},[r("a-input",{attrs:{placeholder:"请输入数据地址"},model:{value:e.properties.address,callback:function(r){e.$set(e.properties,"address",r)},expression:"properties.address"}})],1)],1):e._e(),"TARGET"===e.param.driverMode?r("a-col",{attrs:{span:24}},[r("a-form-model-item",{attrs:{label:"数据值",prop:"dataValue"}},[r("a-input",{attrs:{placeholder:"请输入数据值"},model:{value:e.properties.dataValue,callback:function(r){e.$set(e.properties,"dataValue",r)},expression:"properties.dataValue"}})],1)],1):e._e()],1),"SOURCE"===e.param.driverMode?r("a-col",{attrs:{span:24}},[r("a-button",{attrs:{icon:"bars"},on:{click:e.editPoint}},[e._v("点位配置 ("+e._s(e.properties.points.length)+")")])],1):e._e(),"SOURCE"===e.param.driverMode?r("points-config-model",{ref:"PointsConfigModel",on:{update:e.updatePoints}}):e._e()],1)},o=[],a=t("dfd5"),p=t("f6ed"),i={components:{NodeResourceSelect:p["a"],PointsConfigModel:a["a"]},data:function(){return{properties:{points:[],transferType:"single"},rules:{resourceId:[{required:!0,message:"请选择资源",trigger:"change"}],transferType:[{required:!0,message:"请选择传输方式",trigger:"change"}],address:[{required:!0,message:"请输入数据地址",trigger:"blur"}],dataValue:[{required:!0,message:"请输入数据值",trigger:"blur"}]}}},props:{param:{type:Object,default:{}}},mounted:function(){this.properties.driverMode=this.param.driverMode,this.properties.resourceType=this.param.resourceType},methods:{set:function(e){"TARGET"===this.param.driverMode&&(delete this.properties.points,delete this.properties.transferType),this.properties=Object.assign({},this.properties,e)},get:function(e){var r=this;this.$refs.propForm.validate((function(t){return t?e(!0,r.properties):e(!1)}))},editPoint:function(){this.$refs.PointsConfigModel.edit(this.properties.resourceType,this.properties.points)},updatePoints:function(e){this.properties.points=e}}},n=i,d=t("2877"),l=Object(d["a"])(n,s,o,!1,null,null,null);r["default"]=l.exports}}]);